基础算法二 高精度计算

```go
//高精度加法
package main

import (
	"fmt"
)

func main () {
	var (
		a string
		b string
	)
	fmt.Println("请按照要求输入大数A和B！")
	fmt.Printf("请输入大数A: ")
	fmt.Scanf("%s\n", &a)
	fmt.Printf("请输入大数B: ")
	fmt.Scanf("%s\n", &b)

	var numA []int
	var numB []int

	for i := len(a)-1; i >= 0; i-- {
		numA = append(numA, int(a[i] - '0'))
	}
	for i := len(b)-1; i >= 0; i-- {
		numB = append(numB, int(b[i] - '0'))
	}
	numC := BigIntAdd(numA, numB)
	for i := len(numC)-1; i >= 0; i -- {
		fmt.Print(numC[i])
	}
}

func BigIntAdd(A, B []int) []int {
	var C []int
	t := 0
	for i := 0; i < len(A) || i < len(B); i++ {
		if i < len(A) {t += A[i]}
		if i < len(B) {t += B[i]}
		C = append(C, t%10)
		t /= 10
	}
	if t > 0 {
		C = append(C, 1)
	}
	return C
}

//高精度减法
package main

import (
	"fmt"
)

func main () {
	var (
		a string
		b string
	)
	fmt.Println("请按照要求输入大数A和B！")
	fmt.Printf("请输入大数A: ")
	fmt.Scanf("%s\n", &a)
	fmt.Printf("请输入大数B: ")
	fmt.Scanf("%s\n", &b)

	var numA []int
	var numB []int

	for i := len(a)-1; i >= 0; i-- {
		numA = append(numA, int(a[i] - '0'))
	}
	for i := len(b)-1; i >= 0; i-- {
		numB = append(numB, int(b[i] - '0'))
	}

	if Compare(numA, numB) == true {
		numC := BigIntSub(numA, numB)
		for i := len(numC)-1; i >= 0; i -- {
			fmt.Print(numC[i])
		}
	} else {
		numC := BigIntSub(numB, numA)
		fmt.Print("-")
		for i := len(numC)-1; i >= 0; i -- {
			fmt.Print(numC[i])
		}
	}

}

func Compare(A, B []int) bool {
	if len(A) != len(B) {
		return len(A) > len(B)
	} else {
		for i := len(A)-1; i >= 0; i-- {
			if A[i] != B[i] {
				return A[i] > B[i]
			}
		}
	}
	return true
}

func BigIntSub(A, B []int) []int {
	var C []int
	for i, t := 0, 0; i < len(A); i++ {
		t = A[i] - t
		if i < len(B) {
			t -= B[i]
		}
		C = append(C, (t + 10)%10)
		if t < 0 {
			t = 1
		} else {
			t = 0
		}
	}
	for len(C) > 1 && C[len(C)-1] == 0 {
		C = C[0: len(C)-1]
	}
	return C
}

//高精度乘法
package main

import (
	"fmt"
)

func main () {
	var (
		a string
		b int
	)
	fmt.Println("请按照要求输入大数A和B！")
	fmt.Printf("请输入大数A: ")
	fmt.Scanf("%s\n", &a)
	fmt.Printf("请输入数B: ")
	fmt.Scanf("%d\n", &b)

	var numA []int

	for i := len(a)-1; i >= 0; i-- {
		numA = append(numA, int(a[i] - '0'))
	}
	numC := BigIntMul(numA, b)

	for i := len(numC)-1; i >= 0; i -- {
		fmt.Print(numC[i])
	}
}

func BigIntMul(A []int, B int) []int {
	C := make([]int, 0)
	for i, t := 0 , 0; i < len(A) || t > 0; i++ {
		if i < len(A) {
			t = t + A[i] * B
		}

		//取最低位数字，其余数通过t/10保留到下次计算中
		C = append(C, t%10)
		t /= 10
	}

	for len(C) > 1 && C[len(C) - 1] == 0 {
		C = C[0:len(C)-1]
	}

	return C
}

//高精度除法
package main

import (
	"fmt"
)

func main () {
	var (
		a string
		b int
	)
	fmt.Println("请按照要求输入大数A和B！")
	fmt.Printf("请输入大数A: ")
	fmt.Scanf("%s\n", &a)
	fmt.Printf("请输入数B: ")
	fmt.Scanf("%d\n", &b)

	var numA []int
	r := 0

	for i := len(a)-1; i >= 0; i-- {
		numA = append(numA, int(a[i] - '0'))
	}
	numC := BigIntDiv(numA, b, &r)

	for i := len(numC)-1; i >= 0; i -- {
		fmt.Print(numC[i])
	}
}

func BigIntDiv(A []int, B int, r *int) []int {
	C := make([]int, 0)
	for i := len(A)-1; i >= 0; i-- {
		*r = *r * 10 + A[i]
		C = append(C, *r/B)
		*r %= B
	}
	for i := 0; i <= len(C) >> 2; i ++ {
		C[i], C[len(C)-1-i] = C[len(C)-1-i], C[i]
	}

	for len(C) > 1 && C[len(C)-1] == 0 {
		C = C[0:len(C)-1]
	}

	return C
}
```

