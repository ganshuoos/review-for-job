go基础知识笔记4

```go
//区别于C/C++中的指针，Go语言中的指针不能进行偏移和运算，是安全指针。
//指针地址、指针类型和指针取值。
//任何程序数据载入内存后，在内存都有他们的地址，这就是指针。而为了保存一个数据在内存中的地址，我们就需要指针变量。
//Go语言中的指针不能进行偏移和运算，因此Go语言中的指针操作非常简单，我们只需要记住两个符号：&（取地址）和*（根据地址取值）。

//指针地址和指针类型
//每个变量在运行时都拥有一个地址，这个地址代表变量在内存中的位置。Go语言中使用&字符放在变量前面对变量进行“取地址”操作。
ptr := &v    // v的类型为T
//v:代表被取地址的变量，类型为T
//ptr:用于接收地址的变量，ptr的类型就为*T，称做T的指针类型。*代表指针

//指针取值
func main() {
	//指针取值
	a := 10
	b := &a // 取变量a的地址，将指针保存到b中
	fmt.Printf("type of b:%T\n", b)
	c := *b // 指针取值（根据指针去内存取值）
	fmt.Printf("type of c:%T\n", c)
	fmt.Printf("value of c:%v\n", c)
}
type of b:*int
type of c:int
value of c:10
//取地址操作符&和取值操作符*是一对互补操作符，&取出地址，*根据地址取出地址指向的值。
//对变量进行取地址（&）操作，可以获得这个变量的指针变量。
//指针变量的值是指针地址。
//对指针变量进行取值（*）操作，可以获得指针变量指向的原变量的值。

//在Go语言中对于引用类型的变量，我们在使用的时候不仅要声明它，还要为它分配内存空间，否则我们的值就没办法存储。而对于值类型的声明不需要分配内存空间，是因为它们在声明的时候已经默认分配好了内存空间。

//new
func new(Type) *Type
//Type表示类型，new函数只接受一个参数，这个参数是一个类型
//*Type表示类型指针，new函数返回一个指向该类型内存地址的指针。
func main() {
	a := new(int)
	b := new(bool)
	fmt.Printf("%T\n", a) // *int
	fmt.Printf("%T\n", b) // *bool
	fmt.Println(*a)       // 0
	fmt.Println(*b)       // false
}	
func main() {
	var a *int
	a = new(int)
	*a = 10
	fmt.Println(*a)
}

//make
func make(t Type, size ...IntegerType) Type
//make也是用于内存分配的，区别于new，它只用于slice、map以及chan的内存创建，而且它返回的类型就是这三个类型本身，而不是他们的指针类型，因为这三种类型就是引用类型，所以就没有必要返回他们的指针了。

//new与make的区别
//二者都是用来做内存分配的。
//make只用于slice、map以及channel的初始化，返回的还是这三个引用类型本身；
//而new用于类型的内存分配，并且内存对应的值为类型零值，返回的是指向类型的指针。
```

