**golang字符串构成**

>**字符表示**
>
>字符集字符 < == > 编号 < == > 数值二进制
>
>Unicode字符串存储由于无法确定字符间编码边界问题，直接照搬编码并不合适
>
>**定长编码**（全部按照统一格式，高位补零）浪费内存
>
><img src="%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9E%84%E6%88%90.assets/%E5%AE%9A%E9%95%BF%E7%BC%96%E7%A0%81.PNG" alt="定长编码.PNG" style="zoom:50%;" />
>
>**变长编码**
>
>| 编号          |            编码模板            |
>| :------------ | :----------------------------: |
>| [0, 127]      |           0??? ????            |
>| [128, 2047]   |      110? ???? 10?? ????       |
>| [2048, 65535] | 1110 ???? 10??  ???? 10?? ???? |
>
>变长编码解码举例
>
>> 0 （1100101） => 0开头意味仅一个字节， （1100101）0b = 101 转换为e
>>
>> 1110 （0100） 10 （111000） 10 （010110）=> 1110开头， 意味着由三个字节组成， 由剩余（0100） 和除去（10）的后面两个字节的剩余部分构成， 即(0100 1110 0001 0110)构成， 计算结果为19990， 即“世”。
>
><img src="%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9E%84%E6%88%90.assets/%E5%8F%98%E9%95%BF%E7%BC%96%E7%A0%81%E7%BC%96%E8%A7%A3%E7%A0%81.PNG" style="zoom:50%;" />
>
>**字符串结构**
>
>字符串数据结构 由指向头部的指针及字节长度构成
>
><img src="%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9E%84%E6%88%90.assets/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.PNG" style="zoom:50%;" />
>
>字符串（单个字符）可以被访问，但是不允许被修改。
>
>1. 编译器将字符串内容保存到只读内存段！
>2. 字符串变量共用底层字符串内容（新串 更改底层字符串， 导致旧串受影响）
>
>字符串“修改”
>
>1. 重新赋给新值
>2. 转换为[]byte切片，会重新分配内存并拷贝原来字符串内容。

 